From 26474a8e48ad1d4de704b8625db890d49759340c Mon Sep 17 00:00:00 2001
From: Gregory Chanan <gchanan@cloudera.com>
Date: Wed, 9 Sep 2015 18:13:12 -0700
Subject: [PATCH 103/115] KITE-1068: SolrCellMorphlineTests fails on Locales with non-Arabic digits

---
 .../morphline/solr/AbstractSolrMorphlineTest.java  |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/kite-morphlines/kite-morphlines-solr-core/src/test/java/org/kitesdk/morphline/solr/AbstractSolrMorphlineTest.java b/kite-morphlines/kite-morphlines-solr-core/src/test/java/org/kitesdk/morphline/solr/AbstractSolrMorphlineTest.java
index e450fc2..33e7911 100644
--- a/kite-morphlines/kite-morphlines-solr-core/src/test/java/org/kitesdk/morphline/solr/AbstractSolrMorphlineTest.java
+++ b/kite-morphlines/kite-morphlines-solr-core/src/test/java/org/kitesdk/morphline/solr/AbstractSolrMorphlineTest.java
@@ -18,6 +18,7 @@ package org.kitesdk.morphline.solr;
 import java.io.ByteArrayInputStream;
 import java.io.File;
 import java.io.IOException;
+import java.text.NumberFormat;
 import java.util.Arrays;
 import java.util.Calendar;
 import java.util.Collection;
@@ -133,6 +134,8 @@ public class AbstractSolrMorphlineTest extends SolrTestCaseJ4 {
     
     assumeTrue("This test has issues with this locale: https://issues.apache.org/jira/browse/SOLR-5778", 
         "GregorianCalendar".equals(Calendar.getInstance(TimeZone.getDefault(), Locale.getDefault()).getClass().getSimpleName()));
+    assumeTrue("This test has issues with locales with non-Arabic digits",
+        "1".equals(NumberFormat.getInstance().format(1)));
     deleteAllDocuments();
     int numDocs = 0;    
     for (int i = 0; i < 1; i++) {
-- 
1.7.0.4

